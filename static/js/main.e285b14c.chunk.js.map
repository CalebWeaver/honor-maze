{"version":3,"sources":["utils/controls-service.js","items.js","GameMap.js","inventory-component/inventory-component.js","room-card-component/room-card-component.js","instructions-component.js","game-component/game-component.js","App.js","serviceWorker.js","index.js"],"names":["ControlsService","e","game","code","isEscape","escape","isInputOpen","isNorth","isSouth","isEast","isWest","isInteract","isPickup","isExamine","isUse","preventDefault","use","examine","pickup","interact","moveWest","moveEast","moveSouth","moveNorth","Item","name","desc","Object","classCallCheck","this","descFlavor","items","createClass","key","value","fullDesc","required","forEach","item","substring","length","sticks","carrots","crate","canteen","rabbit","GameMap","createRooms","rooms","originalRooms","_this","roomStates","keys","roomName","getState","saveState","_this2","roomKey","getRoom","setState","roomDesc","_","events","evt","Array","isArray","subEvent","state","Room","exits","room","eventKey","roomEvent","subeventKey","hall1","n","hall2","s","p","title","uncleared","hall3","i","cleared","showItemInput","hall key","removeItem","addHistory","treasure","exit","tricolorCenter","w","tricolor key","getItem","fish","yellowFoyer","fishing","gardening","woodworking","electrical","eagle","wire cutters","addItem","fishing pole","carving knife","gardening hose","blueFoyer","kitchen","laundry","dirty metal bar","lever","living","elephant","backyard","mud0","mud1","mud2","mud3","mud4","mud5","mud6","mud7","mud8","mud9","redFoyer","lion","forest","animal trap","rocks","camp","sleeping bag","stream","withStyles","inventoryHeader","borderBottom","props","classes","push","react_default","a","createElement","Typography","variant","component","className","cardContainer","margin","historyContent","&:last-child","paddingBottom","roomHistory","history","moveCount","Card","CardContent","header","Game","possibleConstructorReturn","getPrototypeOf","call","getNewState","gameMap","itemInputRef","React","createRef","examineInputRef","useInputRef","location","inventory","Map","List","roomState","userItemInput","userExamineInput","showExamineInput","userPrimaryUseInput","showUseInput","userSecondaryUseInput","newGameConfirm","document","addEventListener","handleKeydown","bind","saveDataRaw","localStorage","savedState","JSON","parse","map","setPrototypeOf","prototype","setAllRoomStates","move","removeEventListener","saveGameState","currentState","getAllRoomStates","assign","toJS","setItem","stringify","handleGameKeyDown","newGameButtons","_this3","h","room_card_component_room_card_component","Button","onClick","newGame","color","cancelNewGame","rel","href","TextField","type","onChange","handleItemInputChange","onKeyDown","handleItemInputEnter","inputRef","handleExamineInputChange","handleExamineInputEnter","handlePrimaryUseInputChange","handleUseInputEnter","handleSecondaryUseInputChange","inventory_component","instructions_component","resetRooms","current","focus","target","submitItemToExamine","trim","toLowerCase","get","submitItemToUse","userPrimaryItemInput","userSecondaryItemInput","useItems","primaryItem","secondaryItem","temp","primaryItemKey","secondaryItemKey","has","masterItem","addComponentToItem","itemName","submitItemForInteract","itemEvent","getLocation","remove","set","nextRoom","pickupEvents","pickupItem","unclearedEventKeys","firstUnclearedEvent","pickupEvent","size","description","_this4","insert","getRoomHistoryEntry","_this5","historyEntry","getHistoryEntry","console","log","updatedRoomHistory","addRoomHistory","getRoomDesc","Component","App","Fragment","CssBaseline_default","game_component_Game","Boolean","window","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e285b14c.chunk.js","sourcesContent":["export default class ControlsService {\r\n\tstatic handleGameKeyDown(e, game) {\r\n\t\tif (isEscape(e)) {\r\n\t\t\tgame.escape();\r\n\t\t}\r\n\t\tif (!game.isInputOpen()) {\r\n\t\t\tif (isNorth(e)) {\r\n\t\t\t\tgame.moveNorth();\r\n\t\t\t} else if (isSouth(e)) {\r\n\t\t\t\tgame.moveSouth();\r\n\t\t\t} else if (isEast(e)) {\r\n\t\t\t\tgame.moveEast();\r\n\t\t\t} else if (isWest(e)) {\r\n\t\t\t\tgame.moveWest();\r\n\t\t\t} else if (isInteract(e)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tgame.interact();\r\n\t\t\t} else if (isPickup(e)) {\r\n\t\t\t\tgame.pickup();\r\n\t\t\t} else if (isExamine(e)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tgame.examine();\r\n\t\t\t} else if (isUse(e)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tgame.use();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction isNorth(e) {\r\n\treturn e.code === 'KeyN';\r\n}\r\n\r\nfunction isSouth(e) {\r\n\treturn e.code === 'KeyS';\r\n}\r\n\r\nfunction isEast(e) {\r\n\treturn e.code === 'KeyE';\r\n}\r\n\r\nfunction isWest(e) {\r\n\treturn e.code === 'KeyW';\r\n}\r\n\r\nfunction isInteract(e) {\r\n\treturn e.code === 'KeyI';\r\n}\r\n\r\nfunction isPickup(e) {\r\n\treturn e.code === 'KeyP';\r\n}\r\n\r\nfunction isExamine(e) {\r\n\treturn e.code === 'KeyX';\r\n}\r\n\r\nfunction isUse(e) {\r\n\treturn e.code === 'KeyU';\r\n}\r\n\r\nfunction isEscape(e) {\r\n\treturn e.code === 'Escape';\r\n}","export class Item {\r\n\tconstructor(name, desc, use) {\r\n\t\tthis.name = name;\r\n\t\tthis.descFlavor = desc;\r\n\t\tthis.use = use;\r\n\t\tthis.items = [];\r\n\t}\r\n\r\n\tdesc() {\r\n\t\tlet fullDesc = this.descFlavor;\r\n\t\tif (this.required) {\r\n\t\t\tfullDesc += ' Currently has ';\r\n\t\t\tthis.items.forEach(item => fullDesc += item + ', ');\r\n\t\t\tfullDesc = fullDesc.substring(0, fullDesc.length - 2);\r\n\t\t\tfullDesc += '. Needs ' + (this.required.length - this.items.length) + ' more items.';\r\n\t\t}\r\n\t\treturn fullDesc;\r\n\t}\r\n}\r\n\r\nexport let items = {};\r\n\titems['hall key'] = new Item(\r\n\t\t'Hall Key',\r\n\t\t'An old brass skeleton key.'\r\n\t);\r\n\r\n//Red\r\nitems.sticks = new Item(\r\n\t\t'Sticks',\r\n\t\t'They\\'re brown and sticky.',\r\n\t\t'animal trap',\r\n);\r\nitems.carrots = new Item(\r\n\t\t'Carrots',\r\n\t\t'Not your favorite, but they are food.',\r\n\t\t'animal trap',\r\n);\r\nitems.crate = new Item(\r\n\t\t'Crate',\r\n\t\t'A wooden box with 5 sides. Large enough to comfortably hold a rabbit.',\r\n\t\t'animal trap',\r\n);\r\nitems.canteen = new Item(\r\n\t\t'Canteen',\r\n\t\t'There\\'s a bit of foul-smelling liquid inside.'\r\n);\r\nitems['sleeping bag'] = new Item(\r\n\t\t'Sleeping Bag',\r\n\t\t'Careful, you don\\'t want to wake it.'\r\n);\r\nitems['fishing line'] = new Item(\r\n\t'Fishing Line',\r\n\t'Somehow, it\\'s not even tangled.',\r\n\t'fishing pole',\r\n);\r\nitems['thread'] = new Item(\r\n\t'Thread',\r\n\t'Durable, but difficult to see.',\r\n\t'animal trap',\r\n);\r\nitems['animal trap'] = new Item(\r\n\t\t'Animal Trap',\r\n\t\t'Be vewy vewy quiet.'\r\n);\r\nitems['animal trap'].required = ['sticks', 'crate', 'carrots', 'thread'];\r\nitems.rabbit = new Item(\r\n\t'Rabbit',\r\n\t'Don\\'t worry, it\\'s not that cute.'\r\n);\r\nitems['fish'] = new Item(\r\n\t'Fish',\r\n\t'Something doesn\\'t seem right about this.'\r\n);\r\nitems['red key'] = new Item(\r\n\t'Red Key',\r\n\t'A crystalline red key, in the form of an old skeleton key. It matches the color of the room in which you began perfectly.',\r\n\t'tricolor key'\r\n);\r\n\r\n//Yellow\r\nitems['fishing pole shaft'] = new Item(\r\n\t'Fishing Pole Shaft',\r\n\t'A step up from bare hands.',\r\n\t'fishing pole'\r\n);\r\nitems['wire cutters'] = new Item(\r\n\t'Wire Cutters',\r\n\t'Like big scissors. Best not to run.'\r\n);\r\nitems['gardening hose'] = new Item(\r\n\t'Gardening Hose',\r\n\t'A green rubber hose, though you\\'re not sure it will do much good without a spigot to hook into.'\r\n);\r\nitems['carving knife'] = new Item(\r\n\t'Carving Knife',\r\n\t'Maybe just become a carpenter?'\r\n);\r\nitems['yellow key'] = new Item(\r\n\t'Yellow Key',\r\n\t'A bright and glistening yellow key. Seems made of the same stuff as the room in which you began.',\r\n\t'tricolor key'\r\n);\r\n\r\n//Blue\r\nitems['dirty metal bar'] = new Item(\r\n\t'Dirty Metal Bar',\r\n\t'A long piece of metal covered in mud and muck. Why are you carrying this?'\r\n);\r\nitems['fishing hook'] = new Item(\r\n\t'Fishing Hook',\r\n\t'It\\'s old, and rusted, but you doubt the fish will mind.',\r\n\t'fishing pole',\r\n);\r\nitems['worm'] = new Item(\r\n\t'Worm',\r\n\t'Gross.',\r\n\t'fishing pole',\r\n);\r\nitems['lever'] = new Item(\r\n\t'Lever',\r\n\t'A long lever, which seems like it could slot into a mechanism.'\r\n);\r\nitems['blue key'] = new Item(\r\n\t'Blue Key',\r\n\t'A royal blue key, shining and crystalline as the room from which you entered.',\r\n\t'tricolor key'\r\n);\r\n\r\n//Tricolor\r\nitems['tricolor key'] = new Item(\r\n\t'Tricolor Key',\r\n\t'A three sided key, of three distinct colors. The red, blue and yellow of the room in which you began.'\r\n);\r\nitems['tricolor key'].required = ['red key', 'yellow key', 'blue key'];\r\nitems['note'] = new Item(\r\n\t'Note',\r\n\t\"The note reads: 'I don't know how I got here but that creature terrifies me. Exhausted... I feel, so tired. No matter what door I go through, I can't seem to find peace. A quest keeps nagging at me. I've noticed some keys laying around but the animals, they guard them jealously. I worry they'll set that beast free if they ever meet up. Maybe one of these times, I'll remember what I've already tried.' You recognize the handwriting to be your own.\"\r\n);\r\nitems['fishing pole'] = new Item(\r\n\t'Fishing Pole',\r\n\t'You might be able to catch a fish with this.'\r\n);\r\nitems['fishing pole'].required = ['fishing pole shaft', 'fishing line', 'fishing hook', 'worm'];","import * as _ from 'lodash';\r\nimport {items} from './items';\r\n\r\nexport class GameMap {\r\n\r\n\tstatic originalRooms = {};\r\n\r\n\tconstructor() {\r\n\t\tcreateRooms();\r\n\t\tthis.rooms = GameMap.originalRooms;\r\n\t}\r\n\r\n\tgetAllRoomStates() {\r\n\t\tlet roomStates = {};\r\n\t\tObject.keys(this.rooms).forEach(roomName => {\r\n\t\t\troomStates[roomName] = this.rooms[roomName].getState();\r\n\t\t});\r\n\t\treturn roomStates;\r\n\t}\r\n\r\n\tsetAllRoomStates(saveState) {\r\n\t\tObject.keys(saveState).forEach(roomKey => {\r\n\t\t\tlet room = this.getRoom(roomKey);\r\n\t\t\troom.setState(saveState[roomKey]);\r\n\t\t});\r\n\t}\r\n\r\n\tgetRoom(roomName) {\r\n\t\treturn this.rooms[roomName];\r\n\t}\r\n\r\n\tgetRoomDesc(roomName) {\r\n\r\n\t\tlet roomDesc = '';\r\n\r\n\t\troomDesc += this.rooms[roomName].desc + '\\n';\r\n\r\n\t\t_.map(this.getRoom(roomName).events, (evt) => {\r\n\t\t\tif (!Array.isArray(evt)) {\r\n\t\t\t\troomDesc += evt[evt.state] ? evt[evt.state] + '\\n' : '';\r\n\t\t\t} else {\r\n\t\t\t\tevt.forEach(subEvent => {\r\n\t\t\t\t\troomDesc += subEvent[subEvent.state] + '\\n';\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn roomDesc;\r\n\t}\r\n\r\n\tresetRooms() {\r\n\t\tcreateRooms();\r\n\t}\r\n}\r\n\r\nclass Room {\r\n\tconstructor(desc, exits, events) {\r\n\t\tthis.desc = desc;\r\n\t\tthis.exits = exits;\r\n\t\tthis.events = events;\r\n\t}\r\n\r\n\tgetState() {\r\n\t\tlet state = {};\r\n\t\tlet room = this;\r\n\t\tif (room.events) {\r\n\t\t\tObject.keys(room.events).forEach(eventKey => {\r\n\t\t\t\tlet roomEvent = room.events[eventKey];\r\n\t\t\t\tif (roomEvent.state) {\r\n\t\t\t\t\tstate[eventKey] = roomEvent.state;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstate[eventKey] = {};\r\n\t\t\t\t\tObject.keys(roomEvent).forEach(subeventKey => {\r\n\t\t\t\t\t\tstate[eventKey][subeventKey] = roomEvent[subeventKey].state;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn state;\r\n\t}\r\n\r\n\tsetState(state) {\r\n\t\tlet room = this;\r\n\t\tif (room.events) {\r\n\t\t\tObject.keys(room.events).forEach(eventKey => {\r\n\t\t\t\tif (room.events[eventKey].state) {\r\n\t\t\t\t\troom.events[eventKey].state = state[eventKey];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tObject.keys(room.events[eventKey]).forEach(subeventKey => {\r\n\t\t\t\t\t\troom.events[eventKey][subeventKey].state = state[eventKey][subeventKey];\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst createRooms = function() {\r\n\r\n\tGameMap.originalRooms.hall1 = new Room(\r\n\t\t'You see a long stretch of hallway before you.',\r\n\t\t{\r\n\t\t\tn: 'hall2'\r\n\t\t}\r\n\t);\r\n\tGameMap.originalRooms.hall2 = new Room(\r\n\t\t'You see more hallway before you.',\r\n\t\t{\r\n\t\t\ts: 'hall1',\r\n\t\t\tn: 'hall3'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'key',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You also see a key on the ground.',\r\n\t\t\t\tdesc: 'You pick up the key.',\r\n\t\t\t\titem: 'hall key'\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tGameMap.originalRooms.hall3 = new Room(\r\n\t\t'A short stretch of hall ends at a doorway.',\r\n\t\t{\r\n\t\t\ts: 'hall2',\r\n\t\t\tn: {\r\n\t\t\t\tname: 'treasure',\r\n\t\t\t\tstate: 'locked'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You come to a locked door',\r\n\t\t\t\tcleared: 'You see an open door, with a treasure room behind on the other side.',\r\n\t\t\t\tevt: (game) => {\r\n\t\t\t\t\tgame.showItemInput();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'hall key': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\tthis.exits.n.state = 'unlocked';\r\n\t\t\t\t\tgame.removeItem('hall key');\r\n\t\t\t\t\tgame.addHistory('The lock clicks and the door swings open, revealing the treasure beyond.');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\tGameMap.originalRooms.treasure = new Room(\r\n\t\t'You enter into a large room filled with treasure!',\r\n\t\t{\r\n\t\t\ts: 'hall3'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.exit = new Room(\r\n\t\t'As you walk down the long hall you eventually see sunlight and the fresh air of freedom. You feel reinvigorated and alive as you never have before. By giving honor to others, you have freed yourself. Congratulations.'\r\n\t);\r\n\r\n\tGameMap.originalRooms.tricolorCenter = new Room(\r\n\t\t'You find yourself in a room of three colors which come to distinct borders. You have a vague sense of direction and are able to find your bearings. To your east is yellow, at the center of which is a wooden door. To the south, blue, in which is a stone door. Finally, to the west is red where there is a metal door. The north end of the room holds no color.',\r\n\t\t{\r\n\t\t\tn: {\r\n\t\t\t\tname: 'exit',\r\n\t\t\t\tstate: 'locked',\r\n\t\t\t},\r\n\t\t\ts: 'blueFoyer',\r\n\t\t\te: 'yellowFoyer',\r\n\t\t\tw: 'redFoyer',\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'note',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You notice a note laying in the corner.',\r\n\t\t\t\tdesc: 'You pick up the note',\r\n\t\t\t\titem: 'note'\r\n\t\t\t},\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'It is white with a barred door. Through it is darkness and you soon see a large beast come attacking at the door, trying to chew through it, seeming desperate to break the bars, though they hold fast. On the door is a lock which has space for a three sided key.',\r\n\t\t\t\tcleared: 'The door is now open and the creature sits docile, excited for his master to be free.',\r\n\t\t\t\tevt: game => game.showItemInput()\r\n\t\t\t},\r\n\t\t\t'tricolor key': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tif (game.getItem('tricolor key').items.length === 3) {\r\n\t\t\t\t\t\t// this.events.i.state = 'cleared';\r\n\t\t\t\t\t\tthis.exits.n.state = 'unlocked';\r\n\t\t\t\t\t\tgame.removeItem('tricolor key');\r\n\t\t\t\t\t\tgame.addHistory('As you approach the door, the beast attacks the bars even more, though never close to where you move. The key fits clean in the lock. You twist and hear the lock \\'click\\' and the door swings open. The beast gives a howl of joy and runs to your side, master and companion reunited. To the north, the door is open.');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgame.addHistory('Your key doesn\\'t quite fit the lock');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'fish': {\r\n\t\t\t\tevt: function(game) {\r\n\t\t\t\t\tif (this.exits.n.state === 'unlocked') {\r\n\t\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\t\tgame.removeItem('fish');\r\n\t\t\t\t\t\tgame.addHistory('You offer the fish to the beast and he happily gobbles it down. Balthazar was such a good and loyal creature while you were locked away. You pat his head and his tail wags appreciatively.');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgame.addHistory('That\\'s no use here');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.yellowFoyer = new Room(\r\n\t\t'You enter into a yellow room which coalesces into what seems to be a utility shed. The rooms are dimly lit and are old and dusty. The walls are nearly covered with items of all sorts, you can only guess if there\\'s a system of organization. To the north there lies an old rusted and broken watering can, and a rake on either side of a door. To the south there is a coil of electrical wire and a box of batteries lying on a bench next to a door. To the east there is a room with little of the clutter of the surrounding area.',\r\n\t\t{\r\n\t\t\tn: 'fishing',\r\n\t\t\ts: 'gardening',\r\n\t\t\te: 'eagle',\r\n\t\t\tw: 'tricolorCenter'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.fishing = new Room(\r\n\t\t'You walk into a room full of lures, boggles, hats and poles. Oddly, there doesn\\'t seem to be and lines, hooks, or actual bait. The walls are cluttered with items of all sorts and pictures of lands all over. To the south you see the telltale yellow of the room in which you began. To the east you notice some sawdust littering the floor in front of a doorway.',\r\n\t\t{\r\n\t\t\ts: 'yellowFoyer',\r\n\t\t\te: 'woodworking'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'fishing pole shaft',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tdesc: 'You grab one of the fishing poles',\r\n\t\t\t\titem: 'fishing pole shaft',\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.gardening = new Room(\r\n\t\t'This room is full of watering pales, hoses, and dirt. You suspect you could grow just about anything with the supplies in this room. To the north, you see the shining yellow which surrounds the wooden door through which you entered. To the east you notice some coils of electrical wire in front of a doorway.',\r\n\t\t{\r\n\t\t\tn: 'yellowFoyer',\r\n\t\t\te: 'electrical'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'gardening hose',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tdesc: 'You grab one of the gardening hoses',\r\n\t\t\t\titem: 'gardening hose',\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.woodworking = new Room(\r\n\t\t'You enter the room to find lumber and wood scraps adorning the various benches and tables. There are many manual tools and the smell of sawdust in the air. To the west you see a tackle box laying on the ground next to a door. To the south you see a suspiciously empty room.',\r\n\t\t{\r\n\t\t\ts: 'eagle',\r\n\t\t\tw: 'fishing'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'carving knife',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tdesc: 'You grab one of the carving knives',\r\n\t\t\t\titem: 'carving knife',\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.electrical = new Room(\r\n\t\t'In this room you find wire cutters, soldering irons and batteries. It seems so be an electrical laboratory of some sort. You worry about touching much of anything, lest you electrocute yourself. To the west you see a potted plant with a sproutling next to a door. To the north you see a room with far less clutter than the others.',\r\n\t\t{\r\n\t\t\tn: 'eagle',\r\n\t\t\tw: 'gardening'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'wire cutters',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tdesc: 'You grab one of the wire cutters',\r\n\t\t\t\titem: 'wire cutters',\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.eagle = new Room(\r\n\t\t'You enter the mostly empty room, confused by it compared to the rest of the area. In the corner, you notice a large bird cage. To the north you see a stack of wood blocks strewn in front of a door. To the south you see a couple batteries lying about next to a door. To the west, you can see the wooden door, surrounded by yellow, shining bright in the dim shed.',\r\n\t\t{\r\n\t\t\tn: 'woodworking',\r\n\t\t\ts: 'electrical',\r\n\t\t\tw: 'yellowFoyer'\r\n\t\t}, {\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'Inside the cage is a majestic eagle. The eagle is fiercely angry, flapping its wings trying to escape. You notice grasped in its talon is a gleaming yellow key.',\r\n\t\t\t\tcleared: 'The cage sits empty and broken, its old inhabitant now gone.',\r\n\t\t\t\tevt: game => game.showItemInput()\r\n\t\t\t},\r\n\t\t\t'wire cutters': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\tgame.removeItem('wire cutters');\r\n\t\t\t\t\tgame.addItem(items['yellow key']);\r\n\t\t\t\t\tgame.addHistory('As you press the wire cutters to the cage the eagle gets even more upset, but you press on. Once you cut open a section of the cage, the eagle flies out in a flurry. He goes into the north room, flies left and disappears. In his now empty cage, lies the yellow key, which you take.');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'fishing pole': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tgame.addHistory('You spend some time trying to fish the key out of the cage, but to no avail. The eagle is too fast for that.');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'carving knife': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tgame.addHistory('You can\\'t bring yourself to do that to an eagle.');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'gardening hose': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tgame.addHistory('You don\\'t think that\\'s how a gardening hose works.');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.blueFoyer = new Room(\r\n\t\t'You enter into a room which reminds you of a lovely and lived in home, aside from the blue crystalline wall surrounding a stone door. There are pictures on the wall of families of all sorts. To the north is the stone door. To the south you see a wide expanse of a living room. To the west you see some clothes laying on the ground. To the east you smell lovely cooking food.',\r\n\t\t{\r\n\t\t\tn: 'tricolorCenter',\r\n\t\t\ts: 'elephant',\r\n\t\t\te: 'kitchen',\r\n\t\t\tw: 'laundry'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.kitchen = new Room(\r\n\t\t'You follow the scent of cooking food and come into a kitchen. You think your favorite meal might be cooking, but can\\'t seem to find where the smell is coming from. To the west you see the blue wall and stone door through which you came. To the south is a glass french door, leading to the back yard.',\r\n\t\t{\r\n\t\t\tw: 'blueFoyer',\r\n\t\t\ts: 'backyard'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'fishing hook',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'Something faintly shines in the corner on the counter.',\r\n\t\t\t\tdesc: 'You find a small rusted fishing hook, laying on the counter in the corner. Long forgotten.',\r\n\t\t\t\titem: 'fishing hook',\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.laundry = new Room(\r\n\t\t'You come into a room with a washer, dryer and a rack for hanging. There are some clothes piled in the corner and strewn about on the floor. There is also a large sink on the north wall. To the east you can see a bit of the blue wall, indicating the direction from which you came. To the south, you see some couches and hear laughter.',\r\n\t\t{\r\n\t\t\te: 'blueFoyer',\r\n\t\t\ts: 'living'\r\n\t\t},\r\n\t\t{\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tevt: game => game.showItemInput()\r\n\t\t\t},\r\n\t\t\t'dirty metal bar': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\tgame.removeItem('dirty metal bar');\r\n\t\t\t\t\tgame.addItem(items.lever);\r\n\t\t\t\t\tgame.addHistory('You run the filthy metal bar under some warm water and apply generous portions of soap to it. After some time and much elbow grease, you clean the long bar and find it to look something like a lever.');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.living = new Room(\r\n\t\t'You walk towards the sounds of laughter though you don\\'t see anyone around. There are two large and fluffy couches on the south and west walls, but you find yourself in too much need to complete your quest to take a break. To the north you notice a shirt laying next to a door way. To the east you see a large and expansive room.',\r\n\t\t{\r\n\t\t\tn: 'laundry',\r\n\t\t\te: 'elephant'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.elephant = new Room(\r\n\t\t'As you enter the wide and expanding room, you first don\\'t notice anything out of the ordinary until you look up. To the north you clearly see the stone door through which you entered. To the west you hear laughter. To the east there is a glass door leading outside.',\r\n\t\t{\r\n\t\t\tn: 'blueFoyer',\r\n\t\t\tw: 'living',\r\n\t\t\te: 'backyard'\r\n\t\t},\r\n\t\t{\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'High above you see a pedestal on which an elephant is sitting looking longingly at the higher platform. Far on the other side of the room is another pedestal, even taller. You think you might see a smaller pedestal in the center of the second, taller one and can see the faintest glint of blue from it. On the southern wall there appears a mechanism of some sort, though there is a circular hole in the center of what might be a switch.',\r\n\t\t\t\tcleared: 'The elephant sits on the taller pedestal, it seeming to be his natural fit. He looks at you and you think you can read thanks in his eyes.',\r\n\t\t\t\tevt: game => game.showItemInput()\r\n\t\t\t},\r\n\t\t\tlever: {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\tgame.removeItem('lever');\r\n\t\t\t\t\tgame.addItem(items['blue key']);\r\n\t\t\t\t\tgame.addHistory('You insert the lever into the mechanism and pull it. The walls begin to make a whirring noise, and from them sprouts a platform, from the pedestal on which the elephant sits, to the one higher. The elephant follows the walkway to the top and with his trunk, he drops the glimmering blue key, which you quickly take.');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.backyard = new Room(\r\n\t\t'You come outside to find a large backyard with a swing set and a sandbox, though neither look like they\\'ve been used in some time. To the north you see glass french doors leading into a kitchen. To the west you see a glass door leading into a wide expanse of a room. To the south, past the swing set and play ground you see a large mud patch. It\\'s gross.',\r\n\t\t{\r\n\t\t\tn: 'kitchen',\r\n\t\t\ts: 'mud0',\r\n\t\t\tw: 'elephant'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'worm',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'There are some worms crawling around in the dirt around you.',\r\n\t\t\t\tdesc: 'You pick up a worm. It\\'s slimy and you feel gross.',\r\n\t\t\t\titem: 'worm',\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud0 = new Room(\r\n\t\t'You step into the mud, and it comes up to your knees and seems to get even deeper. You don\\'t enjoy it. To the north, you see the playground and back of the house. To the south there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'backyard',\r\n\t\t\ts: 'mud2',\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud1 = new Room(\r\n\t\t'The mud is nearly to your waist. The smell is not just just of earth but also grime. To the north it seems to get more shallow. To the west, there is a fence. To the south and east, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud0',\r\n\t\t\ts: 'mud4',\r\n\t\t\te: 'mud2'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud2 = new Room(\r\n\t\t'The mud is nearly to your waist, now. To the north it seems to get more shallow. To the south, east, and west, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud0',\r\n\t\t\ts: 'mud5',\r\n\t\t\te: 'mud3',\r\n\t\t\tw: 'mud1'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud3 = new Room(\r\n\t\t'The mud is nearly to your waist. You think you feel something under the surface. Hopefully it\\'s just your imagination. To the north it seems to get more shallow. To the east, there is a fence. To the south and west, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud0',\r\n\t\t\ts: 'mud6',\r\n\t\t\tw: 'mud2'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud4 = new Room(\r\n\t\t'The mud is to your waist. The smell is getting worse. To the north it seems to get more shallow. To the west, there is a fence. To the south and east, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud1',\r\n\t\t\ts: 'mud7',\r\n\t\t\te: 'mud5'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud5 = new Room(\r\n\t\t'The mud is to your waist. You regret coming out here. To the north it seems to get more shallow. To the south, west, and east, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud2',\r\n\t\t\ts: 'mud8',\r\n\t\t\te: 'mud6',\r\n\t\t\tw: 'mud4'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud6 = new Room(\r\n\t\t'The mud is to your waist. You notice a disturbance in the surface of the mud. To the north it seems to get more shallow. To the east, there is a fence. To the south and west, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud3',\r\n\t\t\ts: 'mud9',\r\n\t\t\tw: 'mud5'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'dirty metal bar',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tdesc: 'You search around in the mud and grime and find something solid in the mass of goo.',\r\n\t\t\t\titem: 'dirty metal bar'\r\n\t\t\t}\r\n\t\t});\r\n\r\n\tGameMap.originalRooms.mud7 = new Room(\r\n\t\t'The mud is above your waist. The smell awful. You don\\'t think you can go any further in, though the mud continue on to the horizon. To the north it seems to get more shallow. To the west, there is a fence. To the south and east, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud4',\r\n\t\t\te: 'mud8'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud8 = new Room(\r\n\t\t'The mud is above your waist. You feel exhaustion overtaking you. You don\\'t think you can go any further in, though the mud continue on to the horizon. To the north it seems to get more shallow. To the west, south, and east, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud5',\r\n\t\t\te: 'mud9',\r\n\t\t\tw: 'mud7'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.mud9 = new Room(\r\n\t\t'The mud is above your waist. You feel something nibble at your ankle. You don\\'t think you can go any further in, though the mud continue on to the horizon. To the north it seems to get more shallow. To the east, there is a fence. To the south and west, there is more mud.',\r\n\t\t{\r\n\t\t\tn: 'mud6',\r\n\t\t\tw: 'mud8'\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.redFoyer = new Room(\r\n\t\t'You come into a room where the red coalesces into the outdoors. You are surrounded by rolling hills, vast greenery and various animals scurrying about from the trees and bushes. To the north the grass and brush are giving way to more rocky terrain. To the south, the rolling hills around you level out into a vast prairie. To the west, the animals seem to be less frequent. To the east, you see a metal door, incongruous with your surroundings.',\r\n\t\t{\r\n\t\t\tn: 'rocks',\r\n\t\t\ts: 'stream',\r\n\t\t\te: 'tricolorCenter',\r\n\t\t\tw: 'lion',\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.lion = new Room(\r\n\t\t'You walk through some thicket and find a low outcropping of stone, under which lays a lion. \\n To the north you see a forest of dense trees. To the south, you see smoke. To the east you see lines of red and the metal door.',\r\n\t\t{\r\n\t\t\tn: 'forest',\r\n\t\t\ts: 'camp',\r\n\t\t\te: 'redFoyer'\r\n\t\t},\r\n\t\t{\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'He is large and scarred, but also seems old and weak. He seems thinner than he should, almost emaciated. You turn to run but not before seeing a shining red key under his paw. \\n \"What do you want, child?\" He asks in a raspy voice. You gesture towards the key. \"Ah, you seek the key? I\\'ll need something in payment. Maybe something to help my strength return.\" ',\r\n\t\t\t\tcleared: 'He is strong and healthy, now, his power returned to him. While you still might not feel comfortable around him, you think he will let you live.',\r\n\t\t\t\tevt: (game) => {\r\n\t\t\t\t\tgame.showItemInput();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'rabbit': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\tgame.addHistory('The lion watches you intently as you hold out the rabbit. No sooner does he take a bite than does his entire visage change, as he reverts to a lion in his prime. He roars a mighty roar, dropping you to your knees, but then he merely holds out the red key. You take it gingerly');\r\n\t\t\t\t\tgame.removeItem('rabbit');\r\n\t\t\t\t\tgame.addItem(items['red key']);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'fish': {\r\n\t\t\t\tevt: function(game) {\r\n\t\t\t\t\tgame.addHistory('The lion looks unamused and says, \"You don\\'t expect me to eat that, do you? I much prefer rabbit. Go feed that to whatever pet you keep.\"');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.forest = new Room(\r\n\t\t'You come to a forest, teeming with wildlife. You hear birds chirping, deer rustling around in the distance and nearby you notice some rabbits.',\r\n\t\t{\r\n\t\t\ts: 'lion',\r\n\t\t\te: 'rocks'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'sticks',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You notice some sticks lying around you.',\r\n\t\t\t\tdesc: 'You pick up a few of the sticks.',\r\n\t\t\t\titem: 'sticks',\r\n\t\t\t},\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tevt: (game) => {\r\n\t\t\t\t\tgame.showItemInput();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'animal trap': {\r\n\t\t\t\tevt: function (game) {\r\n\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\tif (game.getItem('animal trap').items.length !== 4) {\r\n\t\t\t\t\t\tgame.addHistory('Your trap doesn\\'t seem too effective at capturing rabbits.');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgame.addHistory('You set up your primitive trap and after some trial and error are able to catch a rabbit.');\r\n\t\t\t\t\t\tgame.removeItem('animal trap');\r\n\t\t\t\t\t\tgame.addItem(items.rabbit);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.rocks = new Room(\r\n\t\t'The greenery and life slowly gives way to some rocky terrain, with mountains in the far distance. There are no animals here, and the sun burns down hot on your head.',\r\n\t\t{\r\n\t\t\ts: 'redFoyer',\r\n\t\t\tw: 'forest'\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'thread',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You notice an old and tattered traveller\\'s pack.',\r\n\t\t\t\tdesc: 'Though most of the pack is in shambles, you are able to find most of a spool of thread.',\r\n\t\t\t\titem: 'thread',\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.camp = new Room(\r\n\t\t'As you approach the smoke you find a campsite. Although there is remnants of a fresh fire, there are no other signs of recent inhabitants. There are three tents with various supplies inside, including food, some empty crates, a canteen and a sleeping bag. \\n To the north you see more rolling hills. To the east you see a vast prairie.',\r\n\t\t{\r\n\t\t\tn: 'lion',\r\n\t\t\te: 'stream',\r\n\t\t},\r\n\t\t{\r\n\t\t\tp: {\r\n\t\t\t\tcarrots: {\r\n\t\t\t\t\ttitle: 'carrots',\r\n\t\t\t\t\tstate: 'uncleared',\r\n\t\t\t\t\tuncleared: 'You see some food.',\r\n\t\t\t\t\tdesc: 'Much of the food seems to have gone bad sitting out in the warm for who knows how long, but you are able to find some carrots which still seem to have some snap.',\r\n\t\t\t\t\titem: 'carrots',\r\n\t\t\t\t},\r\n\t\t\t\tcrate: {\r\n\t\t\t\t\ttitle: 'crate',\r\n\t\t\t\t\tstate: 'uncleared',\r\n\t\t\t\t\tuncleared: 'You find some empty wooden crates.',\r\n\t\t\t\t\tdesc: 'You take one of the crates. It\\'s bulky and cumbersome, but it\\'s yours.',\r\n\t\t\t\t\titem: 'crate',\r\n\t\t\t\t},\r\n\t\t\t\tcanteen: {\r\n\t\t\t\t\ttitle: 'canteen',\r\n\t\t\t\t\tstate: 'uncleared',\r\n\t\t\t\t\tuncleared: 'You notice a canteen.',\r\n\t\t\t\t\tdesc: 'As you pick up the canteen, you find it to have a bit of liquid still at the bottom.',\r\n\t\t\t\t\titem: 'canteen',\r\n\t\t\t\t},\r\n\t\t\t\t'sleeping bag': {\r\n\t\t\t\t\ttitle: 'sleeping bag',\r\n\t\t\t\t\tstate: 'uncleared',\r\n\t\t\t\t\tuncleared: 'There is a sleeping bag on the floor in the corner.',\r\n\t\t\t\t\tdesc: 'You pick up the sleeping bag carefully.',\r\n\t\t\t\t\titem: 'sleeping bag',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tGameMap.originalRooms.stream = new Room(\r\n\t\t'As you walk along the prairie, you come to a stream. It seems like someone once fished here, though now the area is overgrown.',\r\n\t\t{\r\n\t\t\tn: 'redFoyer',\r\n\t\t\tw: 'camp'\r\n\t\t}, {\r\n\t\t\tp: {\r\n\t\t\t\ttitle: 'fishing line',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You do manage to find several feet of fishing line in the brushes.',\r\n\t\t\t\tdesc: 'You pick up the fishing line.',\r\n\t\t\t\titem: 'fishing line',\r\n\t\t\t},\r\n\t\t\ti: {\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tevt: game => game.showItemInput()\r\n\t\t\t},\r\n\t\t\t'fishing pole': {\r\n\t\t\t\tevt: function(game) {\r\n\t\t\t\t\tif (game.getItem('fishing pole').items.length === 4) {\r\n\t\t\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\t\t\tgame.addHistory('You throw your line into the water and after considerable time you pull in a fish.');\r\n\t\t\t\t\t\tgame.addItem(items.fish);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgame.addHistory('The fish don\\'t seem interested.');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n};","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport {Typography} from \"@material-ui/core/es/index\";\r\n\r\nconst styles = {\r\n\tinventoryHeader: {\r\n\t\tborderBottom: '1px solid black',\r\n\t},\r\n};\r\n\r\nfunction Inventory(props) {\r\n\r\n\tlet {classes} = props;\r\n\r\n\tlet items = [];\r\n\tprops.items.forEach((item) => {\r\n\t\tif (item.required) {\r\n\t\t\titems.push(<Typography variant=\"body1\" component=\"p\" key={item.name}>{item.name}: {item.items.length} of {item.required.length}</Typography>);\r\n\t\t} else {\r\n\t\t\titems.push(<Typography variant=\"body1\" component=\"p\" key={item.name}>{item.name}</Typography>);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Typography variant='h3' component=\"h2\" className={classes.inventoryHeader}>Inventory</Typography>\r\n\t\t\t{items}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(Inventory);","import React from \"react\";\r\nimport './room-card-component.css';\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport Card from \"@material-ui/core/es/Card/Card\";\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\n\r\nconst styles = {\r\n\tcardContainer: {\r\n\t\tmargin: '1rem',\r\n\t},\r\n\thistoryContent: {\r\n\t\t'&:last-child': {\r\n\t\t\tpaddingBottom: '16px',\r\n\t\t},\r\n\t}\r\n};\r\n\r\nfunction RoomCard(props) {\r\n\tconst { classes } = props;\r\n\r\n\tlet roomHistory = [];\r\n\tprops.room.history.forEach((history) => {\r\n\t\troomHistory.push(<Typography variant=\"h6\" component=\"p\" className=\"history-row\" key={history.moveCount}>{history.desc}</Typography>);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Card className={classes.cardContainer}>\r\n\t\t\t<CardContent className={classes.historyContent}>\r\n\t\t\t\t{roomHistory}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(RoomCard);","import React from \"react\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport withStyles from \"@material-ui/core/es/styles/withStyles\";\r\n\r\nconst styles = {\r\n\theader: {\r\n\t\tborderBottom: '1px solid black',\r\n\t},\r\n};\r\n\r\nfunction Instructions(props) {\r\n\r\n\tlet {classes} = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Typography variant=\"h3\" component=\"h2\" className={classes.header}>\r\n\t\t\t\tInstructions:\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tN: move North\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tS: move South\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tE: move East\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tW: move West\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tP: Pickup an item from the current location\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tI: Interact with your surroundings using an item from your inventory\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tU: Use one item in your inventory with another\r\n\t\t\t</Typography>\r\n\t\t\t<Typography variant=\"body1\" component=\"p\">\r\n\t\t\t\tX: eXamine an item in your inventory\r\n\t\t\t</Typography>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(Instructions);","import React from 'react';\r\nimport ControlsService from '../utils/controls-service';\r\nimport {List, Map} from 'immutable';\r\nimport {items, Item} from '../items';\r\nimport {GameMap} from '../GameMap';\r\nimport './game-component.css';\r\nimport * as _ from 'lodash';\r\nimport Inventory from \"../inventory-component/inventory-component\";\r\nimport RoomCard from \"../room-card-component/room-card-component\";\r\nimport Instructions from \"../instructions-component\";\r\nimport Button from \"@material-ui/core/es/Button/Button\";\r\nimport TextField from \"@material-ui/core/es/TextField/TextField\";\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\n\r\nexport default class Game extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = this.getNewState();\r\n\t\tthis.gameMap = new GameMap();\r\n\t\tthis.itemInputRef = React.createRef();\r\n\t\tthis.examineInputRef = React.createRef();\r\n\t\tthis.useInputRef = React.createRef();\r\n\t}\r\n\r\n\tgetNewState() {\r\n\t\treturn {\r\n\t\t\tmoveCount: 0,\r\n\t\t\tlocation: '',\r\n\t\t\tinventory: new Map(),\r\n\t\t\troomHistory: new List(),\r\n\t\t\troomState: {},\r\n\t\t\tuserItemInput: '',\r\n\t\t\tshowItemInput: false,\r\n\t\t\tuserExamineInput: '',\r\n\t\t\tshowExamineInput: false,\r\n\t\t\tuserPrimaryUseInput: '',\r\n\t\t\tshowUseInput: false,\r\n\t\t\tuserSecondaryUseInput: '',\r\n\t\t\tnewGameConfirm: false,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keydown\", this.handleKeydown.bind(this));\r\n\t\tdocument.title = 'Maze of Honor';\r\n\t\tlet saveDataRaw = localStorage.getItem('state');\r\n\t\tif (saveDataRaw) {\r\n\t\t\tlet savedState = JSON.parse(saveDataRaw);\r\n\t\t\tsavedState.inventory = new Map(savedState.inventory).map(item => Object.setPrototypeOf(item, Item.prototype));\r\n\t\t\tsavedState.roomHistory = new List(savedState.roomHistory);\r\n\t\t\tsavedState.roomHistory.map(roomHistory => roomHistory.history = new List(roomHistory.history));\r\n\t\t\tthis.gameMap.setAllRoomStates(savedState.roomState);\r\n\t\t\tthis.setState(savedState);\r\n\t\t} else {\r\n\t\t\tthis.move('tricolorCenter');\r\n\t\t}\r\n\r\n\t\tthis.setState({newGameConfirm: false});\r\n\t\t// let trap = items['animal trap'];\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// this.addItem(trap);\r\n\t\t// let trap = items['fishing pole'];\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// this.addItem(trap);\r\n\t\t// this.addItem(items['dirty metal bar']);\r\n\t\t// this.addItem(items['carrots']);\r\n\t\t// this.addItem(items['sticks']);\r\n\t\t// this.addItem(items['crate']);\r\n\t\t// let key = items['tricolor key'];\r\n\t\t// key.items.push('');\r\n\t\t// key.items.push('');\r\n\t\t// key.items.push('');\r\n\t\t// this.addItem(key);\r\n\t\t// this.addItem(items['red key']);\r\n\t\t// this.addItem(items['yellow key']);\r\n\t\t// this.addItem(items['blue key']);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('keydown', this.handleKeydown.bind(this));\r\n\t\tthis.saveGameState();\r\n\t}\r\n\r\n\tsaveGameState() {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tcurrentState.roomState = this.gameMap.getAllRoomStates();\r\n\t\t});\r\n\t\tlet saveState = Object.assign({}, this.state);\r\n\t\tsaveState.inventory = this.state.inventory.toJS();\r\n\t\tsaveState.roomHistory = this.state.roomHistory.toJS();\r\n\t\tlocalStorage.setItem('state', JSON.stringify(saveState));\r\n\t}\r\n\r\n\thandleKeydown(e) {\r\n\t\tControlsService.handleGameKeyDown(e, this);\r\n\t\tthis.saveGameState();\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet history = [];\r\n\t\tthis.state.roomHistory.forEach((h) => {\r\n\t\t\thistory.push(<RoomCard room={h} key={h.moveCount} />);\r\n\t\t});\r\n\r\n\t\tlet newGameButtons;\r\n\t\tif (this.state.newGameConfirm) {\r\n\t\t\tnewGameButtons = (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button onClick={() => this.newGame(this.state.newGameConfirm)} variant=\"outlined\" color=\"primary\"\r\n\t\t\t\t\t\t\tclassName=\"new-game-button\">\r\n\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={() => this.cancelNewGame()} variant=\"outlined\"\r\n\t\t\t\t\t\t\tclassName=\"new-game-button\">\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnewGameButtons = (\r\n\t\t\t\t<Button onClick={() => this.newGame(this.state.newGameConfirm)} variant=\"outlined\"\r\n\t\t\t\t\t\tclassName=\"new-game-button\">\r\n\t\t\t\t\tNew Game\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500\" />\r\n\t\t\t\t<div className=\"history\">\r\n\t\t\t\t\t{this.state.showItemInput &&\r\n\t\t\t\t\t<label className=\"input-prompt\">\r\n\t\t\t\t\t\t<Typography variant=\"body1\" component=\"p\" className=\"inline-block\">What item do you use?</Typography>\r\n\t\t\t\t\t\t<TextField type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userItemInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handleItemInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleItemInputEnter(e)}\r\n\t\t\t\t\t\t\t   inputRef={this.itemInputRef}\r\n\t\t\t\t\t\t\t   className=\"margin_small\" />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{this.state.showExamineInput &&\r\n\t\t\t\t\t<label className=\"input-prompt\">\r\n\t\t\t\t\t\t<Typography variant=\"body1\" component=\"p\" className=\"inline-block\">What do you examine?</Typography>\r\n\t\t\t\t\t\t<TextField type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userExamineInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handleExamineInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleExamineInputEnter(e)}\r\n\t\t\t\t\t\t\t   inputRef={this.examineInputRef}\r\n\t\t\t\t\t\t\t   className=\"margin_small\" />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{this.state.showUseInput &&\r\n\t\t\t\t\t<label className=\"input-prompt\">\r\n\t\t\t\t\t\t<Typography variant=\"body1\" component=\"p\" className=\"inline-block\">What do you use?</Typography>\r\n\t\t\t\t\t\t<TextField type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userPrimaryUseInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handlePrimaryUseInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleUseInputEnter(e)}\r\n\t\t\t\t\t\t\t   inputRef={this.useInputRef}\r\n\t\t\t\t\t\t\t   className=\"margin_small\" />\r\n\t\t\t\t\t\t<Typography variant=\"body1\" component=\"p\" className=\"inline-block\">with</Typography>\r\n\t\t\t\t\t\t<TextField type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userSecondaryUseInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handleSecondaryUseInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleUseInputEnter(e)}\r\n\t\t\t\t\t\t\t   className=\"margin_small\" />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t}\r\n\t\t\t\t{history}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"sidebar-container\">\r\n\t\t\t\t\t<div className=\"sidebar-aligner\">\r\n\t\t\t\t\t\t{newGameButtons}\r\n\t\t\t\t\t\t<Inventory items={this.state.inventory} />\r\n\t\t\t\t\t\t<Instructions/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tnewGame(newGameConfirm) {\r\n\t\tif (newGameConfirm) {\r\n\t\t\tlocalStorage.setItem('state', '');\r\n\t\t\tthis.setState(this.getNewState());\r\n\t\t\tthis.gameMap.resetRooms();\r\n\t\t\tthis.move('tricolorCenter');\r\n\t\t} else {\r\n\t\t\tthis.setState({newGameConfirm: true});\r\n\t\t}\r\n\t}\r\n\r\n\tcancelNewGame() {\r\n\t\tthis.setState({newGameConfirm: false});\r\n\t}\r\n\r\n\tescape() {\r\n\t\tthis.setState({\r\n\t\t\tshowExamineInput: false,\r\n\t\t\tshowUseInput: false,\r\n\t\t\tshowItemInput: false\r\n\t\t});\r\n\t}\r\n\r\n\tshowExamineInput() {\r\n\t\tthis.setState({showExamineInput: true});\r\n\t\tthis.examineInputRef.current.focus();\r\n\t}\r\n\r\n\thandleExamineInputChange(e) {\r\n\t\tthis.setState({userExamineInput: e.target.value});\r\n\t}\r\n\r\n\thandleExamineInputEnter(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.submitItemToExamine();\r\n\t\t}\r\n\t}\r\n\r\n\tsubmitItemToExamine() {\r\n\t\tlet userItemInput = this.state.userExamineInput.trim().toLowerCase();\r\n\t\tthis.setState({userExamineInput: ''});\r\n\t\tif (this.state.inventory.get(userItemInput)) {\r\n\t\t\tthis.addHistory(this.state.inventory.get(userItemInput).desc());\r\n\t\t} else if (userItemInput) {\r\n\t\t\tthis.addHistory('You don\\'t have one of those.');\r\n\t\t}\r\n\t\tthis.setState({showExamineInput: false});\r\n\t}\r\n\r\n\tshowUseInput() {\r\n\t\tthis.setState({showUseInput: true});\r\n\t\tthis.useInputRef.current.focus();\r\n\t}\r\n\r\n\thandlePrimaryUseInputChange(e) {\r\n\t\tthis.setState({userPrimaryUseInput: e.target.value});\r\n\t}\r\n\r\n\thandleSecondaryUseInputChange(e) {\r\n\t\tthis.setState({userSecondaryUseInput: e.target.value});\r\n\t}\r\n\r\n\thandleUseInputEnter(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.submitItemToUse();\r\n\t\t}\r\n\t}\r\n\r\n\tsubmitItemToUse() {\r\n\t\tlet userPrimaryItemInput = this.state.userPrimaryUseInput.trim().toLowerCase();\r\n\t\tlet userSecondaryItemInput = this.state.userSecondaryUseInput.trim().toLowerCase();\r\n\t\tthis.setState({userPrimaryUseInput: ''});\r\n\t\tthis.setState({userSecondaryUseInput: ''});\r\n\t\tif (this.state.inventory.get(userPrimaryItemInput)) {\r\n\t\t\tif (this.state.inventory.get(userSecondaryItemInput)) {\r\n\t\t\t\tif (userPrimaryItemInput !== userSecondaryItemInput) {\r\n\t\t\t\t\tthis.useItems(items[userPrimaryItemInput], items[userSecondaryItemInput]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addHistory('You only have one of those.');\r\n\t\t\t\t}\r\n\t\t\t} else if (userSecondaryItemInput) {\r\n\t\t\t\tthis.addHistory('You don\\'t have '+userSecondaryItemInput);\r\n\t\t\t}\r\n\t\t} else if (userPrimaryItemInput) {\r\n\t\t\tthis.addHistory('You don\\'t have '+userPrimaryItemInput);\r\n\t\t}\r\n\t\tthis.setState({showUseInput: false});\r\n\t}\r\n\r\n\tuseItems(primaryItem, secondaryItem) {\r\n\t\tif (!primaryItem.use) {\r\n\t\t\tlet temp = primaryItem;\r\n\t\t\tprimaryItem = secondaryItem;\r\n\t\t\tsecondaryItem = temp;\r\n\t\t}\r\n\t\tif (primaryItem.use) {\r\n\t\t\tlet primaryItemKey = primaryItem.name.toLowerCase();\r\n\t\t\tlet secondaryItemKey = secondaryItem.name.toLowerCase();\r\n\t\t\tif (primaryItem.use === secondaryItem.use) {\r\n\t\t\t\tif (!this.state.inventory.has(primaryItem.use)) {\r\n\t\t\t\t\tlet masterItem = items[primaryItem.use];\r\n\t\t\t\t\tthis.addItem(masterItem);\r\n\t\t\t\t\tthis.addComponentToItem(primaryItemKey, masterItem);\r\n\t\t\t\t\tthis.addComponentToItem(secondaryItemKey, masterItem);\r\n\t\t\t\t\tthis.removeItem(primaryItemKey);\r\n\t\t\t\t\tthis.removeItem(secondaryItemKey);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addHistory('Try using each of those with the '+primaryItem.use);\r\n\t\t\t\t}\r\n\t\t\t} else if (primaryItem.use === secondaryItemKey) {\r\n\t\t\t\tlet masterItem = this.state.inventory.get(secondaryItemKey);\r\n\t\t\t\tthis.addComponentToItem(primaryItemKey, masterItem);\r\n\t\t\t\tthis.removeItem(primaryItemKey);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tshowItemInput() {\r\n\t\tthis.setState({showItemInput: true});\r\n\t\tthis.itemInputRef.current.focus();\r\n\t}\r\n\r\n\tisInputOpen() {\r\n\t\treturn this.state.showItemInput || this.state.showExamineInput || this.state.showUseInput;\r\n\t}\r\n\r\n\tgetItem(itemName) {\r\n\t\treturn this.state.inventory.get(itemName);\r\n\t}\r\n\r\n\thandleItemInputChange(e) {\r\n\t\tthis.setState({userItemInput: e.target.value});\r\n\t}\r\n\r\n\thandleItemInputEnter(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.submitItemForInteract(e);\r\n\t\t}\r\n\t}\r\n\r\n\tsubmitItemForInteract() {\r\n\t\tlet userItemInput = this.state.userItemInput.trim().toLowerCase();\r\n\t\tthis.setState({userItemInput: ''});\r\n\t\tif (this.state.inventory.get(userItemInput)) {\r\n\t\t\tlet itemEvent = this.getLocation().events[userItemInput];\r\n\t\t\tif (itemEvent) {\r\n\t\t\t\titemEvent.evt.call(this.getLocation(), this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.addHistory('That\\'s no use here.');\r\n\t\t\t}\r\n\t\t} else if (userItemInput) {\r\n\t\t\tthis.addHistory('You don\\'t have one of those.');\r\n\t\t}\r\n\t\tthis.setState({showItemInput: false});\r\n\t}\r\n\r\n\tremoveItem(itemName) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tcurrentState.inventory = currentState.inventory.remove(itemName);\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\taddItem(item) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tcurrentState.inventory = currentState.inventory.set(item.name.toLowerCase(), item);\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\taddComponentToItem(itemName, masterItem) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tlet inventory = currentState.inventory;\r\n\t\t\tmasterItem.items.push(itemName);\r\n\t\t\tinventory.set(masterItem.name, masterItem);\r\n\t\t\tcurrentState.inventory = inventory;\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\tmoveNorth() {\r\n\t\tlet nextRoom = this.getLocation().exits['n'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tmoveSouth() {\r\n\t\tlet nextRoom = this.getLocation().exits['s'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tmoveEast() {\r\n\t\tlet nextRoom = this.getLocation().exits['e'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tmoveWest() {\r\n\t\tlet nextRoom = this.getLocation().exits['w'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tpickup() {\r\n\t\tlet events = this.getLocation().events;\r\n\t\tif (events && events.p) {\r\n\t\t\tlet pickupEvents = events.p;\r\n\t\t\tif (pickupEvents.state === 'uncleared') {\r\n\t\t\t\tthis.pickupItem(pickupEvents);\r\n\t\t\t} else if (!pickupEvents.state) {\r\n\t\t\t\tlet unclearedEventKeys = _.filter(Object.keys(pickupEvents),\r\n\t\t\t\t\teventKey => pickupEvents[eventKey].state === 'uncleared');\r\n\t\t\t\tlet firstUnclearedEvent = _.head(unclearedEventKeys);\r\n\t\t\t\tif (firstUnclearedEvent) {\r\n\t\t\t\t\tthis.pickupItem(this.getLocation().events.p[firstUnclearedEvent]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addHistory('You don\\'t find anything.');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.addHistory('You don\\'t find anything.');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t find anything.');\r\n\t\t}\r\n\t}\r\n\r\n\tpickupItem(pickupEvent) {\r\n\t\tpickupEvent.state = 'cleared';\r\n\t\tthis.addHistory(pickupEvent.desc);\r\n\t\tlet item = items[pickupEvent.item];\r\n\t\tthis.addItem(item);\r\n\t}\r\n\r\n\tinteract() {\r\n\t\tlet events = this.getLocation().events;\r\n\t\tif (events && events['i'] && events['i'].state === 'uncleared') {\r\n\t\t\tlet interactEvent = events['i'];\r\n\t\t\tinteractEvent.evt(this);\r\n\t\t} else {\r\n\t\t\tthis.addHistory('There is nothing to do here.');\r\n\t\t}\r\n\t}\r\n\r\n\texamine() {\r\n\t\tif (this.state.inventory.size) {\r\n\t\t\tthis.showExamineInput();\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have anything to examine.');\r\n\t\t}\r\n\t}\r\n\r\n\tuse() {\r\n\t\tif (this.state.inventory.size) {\r\n\t\t\tthis.showUseInput();\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have anything to use.');\r\n\t\t}\r\n\t}\r\n\r\n\taddRoomHistory(description) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tcurrentState.moveCount = currentState.moveCount + 1;\r\n\t\t\tcurrentState.roomHistory = currentState.roomHistory.insert(0, this.getRoomHistoryEntry(description, currentState.moveCount));\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\taddHistory(description) {\r\n\t\tif (description) {\r\n\t\t\tthis.setState(currentState => {\r\n\r\n\t\t\t\tlet historyEntry = this.getHistoryEntry(description, currentState.moveCount);\r\n\r\n\t\t\t\tlet roomHistory = currentState.roomHistory.get(0);\r\n\t\t\t\tconsole.log(roomHistory);\r\n\t\t\t\tlet updatedRoomHistory = Object.assign({}, roomHistory, {\r\n\t\t\t\t\thistory: roomHistory.history.insert(0, historyEntry)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tcurrentState.moveCount = currentState.moveCount + 1;\r\n\t\t\t\tcurrentState.roomHistory = currentState.roomHistory.set(0, updatedRoomHistory);\r\n\t\t\t\treturn currentState;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetRoomHistoryEntry(description, moveCount) {\r\n\t\treturn {\r\n\t\t\tmoveCount: moveCount,\r\n\t\t\thistory: description ? new List([this.getHistoryEntry(description, moveCount)]) : new List()\r\n\t\t};\r\n\t}\r\n\r\n\tgetHistoryEntry(description, moveCount) {\r\n\t\treturn {\r\n\t\t\tdesc: description,\r\n\t\t\tmoveCount: moveCount\r\n\t\t};\r\n\t}\r\n\r\n\tmove(nextRoom) {\r\n\t\tif (nextRoom) {\r\n\t\t\tif (nextRoom.state === 'locked') {\r\n\t\t\t\tthis.addHistory('The door is locked.');\r\n\t\t\t} else {\r\n\t\t\t\tnextRoom = nextRoom.name || nextRoom;\r\n\t\t\t\tthis.addRoomHistory();\r\n\t\t\t\tthis.addHistory(this.gameMap.getRoomDesc(nextRoom));\r\n\t\t\t\tthis.setState({location: nextRoom});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You can\\'t go that way.');\r\n\t\t}\r\n\t}\r\n\r\n\tgetLocation() {\r\n\t\treturn this.gameMap.getRoom(this.state.location);\r\n\t}\r\n}","import React, {Component} from 'react';\nimport './App.css';\nimport Game from './game-component/game-component';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<Game/>\n\t\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}