{"version":3,"sources":["utils/controls-service.js","navigator-service/navigator-service.js","rooms.js","inventory-component/inventory-component.js","room-card-component/room-card-component.js","game-component/game-component.js","App.js","serviceWorker.js","index.js"],"names":["ControlsService","e","game","isInputOpen","code","isNorth","isSouth","isEast","isWest","isInteract","isPickup","isExamine","isUse","preventDefault","use","examine","pickup","interact","moveWest","moveEast","moveSouth","moveNorth","NavigatorService","Room","desc","exits","events","Object","classCallCheck","this","rooms","hall1","n","hall2","s","p","title","state","uncleared","item","hall3","name","i","cleared","evt","showItemInput","hall key","removeItem","addHistory","treasure","tricolorCenter","w","yellowFoyer","fishing","gardening","woodworking","electrical","eagle","wire cutters","addItem","items","fishing pole","carving knife","gardening hose","blueFoyer","kitchen","laundry","living","elephant","backyard","mud1","mud2","mud3","redFoyer","lion","rabbit","forest","animal trap","getItem","length","rocks","camp","carrots","crate","canteen","sleeping bag","stream","Item","descFlavor","fullDesc","required","forEach","substring","sticks","withStyles","inventoryHeader","borderBottom","props","classes","push","react_default","a","createElement","Typography","variant","component","key","className","cardContainer","margin","historyContent","&:last-child","paddingBottom","roomHistory","room","history","map","moveCount","Card","CardContent","Game","_this","possibleConstructorReturn","getPrototypeOf","call","location","inventory","Map","List","userItemInput","userExamineInput","showExamineInput","userPrimaryUseInput","showUseInput","userSecondaryUseInput","getRoomHistoryEntry","navigator","itemInputRef","React","createRef","examineInputRef","useInputRef","document","addEventListener","handleKeydown","bind","removeEventListener","handleGameKeyDown","_this2","h","room_card_component_room_card_component","rel","href","type","value","onChange","handleItemInputChange","onKeyDown","handleItemInputEnter","ref","handleExamineInputChange","handleExamineInputEnter","handlePrimaryUseInputChange","handleUseInputEnter","handleSecondaryUseInputChange","inventory_component","setState","current","focus","target","submitItemToExamine","toLowerCase","get","submitItemToUse","userPrimaryItemInput","userSecondaryItemInput","useItems","primaryItem","secondaryItem","temp","primaryItemKey","secondaryItemKey","has","masterItem","addComponentToItem","showPrimaryUseInput","itemName","submitItemForInteract","itemEvent","getLocation","currentState","remove","set","nextRoom","move","pickupEvents","pickupItem","unclearedEventKeys","_","keys","eventKey","firstUnclearedEvent","pickupEvent","size","description","insert","historyEntry","getHistoryEntry","updatedRoomHistory","assign","_this3","addRoomHistory","values","subEvent","Component","App","Fragment","CssBaseline_default","game_component_Game","Boolean","window","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ffa9f4d3.chunk.js","sourcesContent":["export default class ControlsService {\r\n\tstatic handleGameKeyDown(e, game) {\r\n\t\tif (!game.isInputOpen()) {\r\n\t\t\tif (isNorth(e)) {\r\n\t\t\t\tgame.moveNorth();\r\n\t\t\t} else if (isSouth(e)) {\r\n\t\t\t\tgame.moveSouth();\r\n\t\t\t} else if (isEast(e)) {\r\n\t\t\t\tgame.moveEast();\r\n\t\t\t} else if (isWest(e)) {\r\n\t\t\t\tgame.moveWest();\r\n\t\t\t} else if (isInteract(e)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tgame.interact();\r\n\t\t\t} else if (isPickup(e)) {\r\n\t\t\t\tgame.pickup();\r\n\t\t\t} else if (isExamine(e)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tgame.examine();\r\n\t\t\t} else if (isUse(e)) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tgame.use();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction isNorth(e) {\r\n\treturn e.code === 'KeyN';\r\n}\r\n\r\nfunction isSouth(e) {\r\n\treturn e.code === 'KeyS';\r\n}\r\n\r\nfunction isEast(e) {\r\n\treturn e.code === 'KeyE';\r\n}\r\n\r\nfunction isWest(e) {\r\n\treturn e.code === 'KeyW';\r\n}\r\n\r\nfunction isInteract(e) {\r\n\treturn e.code === 'KeyI';\r\n}\r\n\r\nfunction isPickup(e) {\r\n\treturn e.code === 'KeyP';\r\n}\r\n\r\nfunction isExamine(e) {\r\n\treturn e.code === 'KeyX';\r\n}\r\n\r\nfunction isUse(e) {\r\n\treturn e.code === 'KeyU';\r\n}","export default class NavigatorService {\r\n\tmoveNorth() {\r\n\r\n\t}\r\n}","class Room {\r\n\tconstructor(desc, exits, events) {\r\n\t\tthis.desc = desc;\r\n\t\tthis.exits = exits;\r\n\t\tthis.events = events;\r\n\t}\r\n}\r\n\r\nexport let rooms = {};\r\nrooms.hall1 = new Room(\r\n\t'You see a long stretch of hallway before you.',\r\n\t{\r\n\t\tn: 'hall2'\r\n\t}\r\n);\r\nrooms.hall2 = new Room(\r\n\t'You see more hallway before you.',\r\n\t{\r\n\t\ts: 'hall1',\r\n\t\tn: 'hall3'\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\ttitle: 'key',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tuncleared: 'You also see a key on the ground.',\r\n\t\t\tdesc: 'You pick up the key.',\r\n\t\t\titem: 'hall key'\r\n\t\t}\r\n\t}\r\n);\r\nrooms.hall3 = new Room(\r\n\t'A short stretch of hall ends at a doorway.',\r\n\t{\r\n\t\ts: 'hall2',\r\n\t\tn: {\r\n\t\t\tname: 'treasure',\r\n\t\t\tstate: 'locked'\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\ti: {\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tuncleared: 'You come to a locked door',\r\n\t\t\tcleared: 'You see an open door, with a treasure room behind on the other side.',\r\n\t\t\tevt: (game) => {\r\n\t\t\t\tgame.showItemInput();\r\n\t\t\t}\r\n\t\t},\r\n\t\t'hall key': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\tthis.exits.n.state = 'unlocked';\r\n\t\t\t\tgame.removeItem('hall key');\r\n\t\t\t\tgame.addHistory('The lock clicks and the door swings open, revealing the treasure beyond.');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\nrooms.treasure = new Room(\r\n\t'You enter into a large room filled with treasure!',\r\n\t{\r\n\t\ts: 'hall3'\r\n\t}\r\n);\r\n\r\nrooms.tricolorCenter = new Room(\r\n\t'You find yourself in a room of three colors which come to distinct borders. You have a vague sense of direction and are able to find your bearings. To your east is yellow, at the center of which is a wooden door. To the south, blue, in which is a stone door. Finally, to the west is red where there is a metal door. The north end of the room holds no color. It is white with a barred door. Through it is darkness and you soon see a large beast come attacking at the door, trying to chew through it, seeming desperate to break the bars, though they hold fast. On the door is a lock which has space for a three sided key.',\r\n\t{\r\n\t\tn: {\r\n\t\t\tname: '',\r\n\t\t\tstate: 'locked',\r\n\t\t},\r\n\t\ts: 'blueFoyer',\r\n\t\te: 'yellowFoyer',\r\n\t\tw: 'redFoyer',\r\n\t}\r\n);\r\n\r\nrooms.yellowFoyer = new Room(\r\n\t'You enter into a yellow room which coalesces into what seems to be a utility shed. The rooms are dimly lit and are old and dusty. The walls are nearly covered with items of all sorts, you can only guess if there\\'s a system of organization. To the north there lies an old rusted and broken watering can, and a rake on either side of a door. To the south there is a coil of electrical wire and a box of batteries lying on a bench. To the east there is little of the clutter of the surrounding area.',\r\n\t{\r\n\t\tn: 'fishing',\r\n\t\ts: 'gardening',\r\n\t\te: 'eagle',\r\n\t\tw: 'tricolorCenter'\r\n\t}\r\n);\r\n\r\nrooms.fishing = new Room(\r\n\t'You walk into a room full of lures, boggles, hats and poles. The walls are cluttered with items of all sorts and pictures of lands all over. To the south you see the telltale yellow of the room in which you began. To the east you notice some sawdust littering the floor.',\r\n\t{\r\n\t\ts: 'yellowFoyer',\r\n\t\te: 'woodworking'\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\ttitle: 'fishing pole',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tdesc: 'You grab one of the fishing poles',\r\n\t\t\titem: 'fishing pole',\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.gardening = new Room(\r\n\t'This room is full of watering pales, hoses, and dirt. You suspect you could grow just about anything with the supplies in this room. Tot he north, you see the shining yellow which surrounds the wooden door through which you entered. To the east you notice some coils of electrical wire.',\r\n\t{\r\n\t\tn: 'yellowFoyer',\r\n\t\te: 'electrical'\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\ttitle: 'gardening hose',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tdesc: 'You grab one of the gardening hoses',\r\n\t\t\titem: 'gardening hose',\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.woodworking = new Room(\r\n\t'You enter the room to find lumber and wood scraps adorning the various benches and tables. There are many manual tools and the smell of sawdust in the air. To the west you see a tackle box laying on the ground. To the south you see a suspiciously empty room.',\r\n\t{\r\n\t\ts: 'eagle',\r\n\t\tw: 'fishing'\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\ttitle: 'carving knife',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tdesc: 'You grab one of the carving knives',\r\n\t\t\titem: 'carving knife',\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.electrical = new Room(\r\n\t'In this room you find wire cutters, soldering irons and batteries. It seems so be an electrical laboratory of some sort. You worry about touching much of anything, lest you electrocute yourself. To the west you see a potted plant with a sproutling. To the north you see a room with far less clutter than the others.',\r\n\t{\r\n\t\tn: 'eagle',\r\n\t\tw: 'gardening'\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\ttitle: 'wire cutters',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tdesc: 'You grab one of the wire cutters',\r\n\t\t\titem: 'wire cutters',\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.eagle = new Room(\r\n\t'You enter the mostly empty room, confused by it compared to the rest of the area. In the corner, you notice a large bird cage. To the north you see a stack of wood blocks. To the south you see a couple batteries lying about. To the west, you can see the wooden door, surrounded by yellow, shining bright in the dim shed.',\r\n\t{\r\n\t\tn: 'woodworking',\r\n\t\ts: 'electrical',\r\n\t\tw: 'yellowFoyer'\r\n\t},{\r\n\t\ti: {\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tuncleared: 'Inside the cage is a majestic eagle. The eagle is fiercely angry, flapping its wings trying to escape. You notice grasped in its talon is a gleaming yellow key.',\r\n\t\t\tcleared: 'The cage sits empty and broken, its old inhabitant now gone.',\r\n\t\t\tevt: game => game.showItemInput()\r\n\t\t},\r\n\t\t'wire cutters': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\tgame.removeItem('wire cutters');\r\n\t\t\t\tgame.addItem(items['yellow key']);\r\n\t\t\t\tgame.addHistory('As you press the wire cutters to the cage the eagle gets even more upset, but you press on. Once you cut open a section of the cage, the eagle flies out in a flurry. He goes into the north room, flies left and disappears. In his now empty cage, lies the yellow key, which you take.');\r\n\t\t\t}\r\n\t\t},\r\n\t\t'fishing pole': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tgame.addHistory('You spend some time trying to fish the key out of the cage, but to no avail. The eagle is too fast for that.');\r\n\t\t\t}\r\n\t\t},\r\n\t\t'carving knife': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tgame.addHistory('You can\\'t bring yourself to do that to an eagle.');\r\n\t\t\t}\r\n\t\t},\r\n\t\t'gardening hose': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tgame.addHistory('You don\\'t think that\\'s how a gardening hose works.');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.blueFoyer = new Room(\r\n\t'You enter into a room which reminds you of a lovely and lived in home, aside from the blue crystalline wall surrounding a stone door. There are pictures on the wall of families of all sorts. To the north is the stone door. To the south you see a wide expanse of a living room. To the west you see some clothes laying on the ground. To the east you smell lovely cooking food.',\r\n\t{\r\n\t\tn: 'tricolorCenter',\r\n\t\ts: 'elephant',\r\n\t\te: 'kitchen',\r\n\t\tw: 'laundry'\r\n\t}\r\n);\r\n\r\nrooms.kitchen = new Room();\r\n\r\nrooms.laundry = new Room();\r\n\r\nrooms.living = new Room();\r\n\r\nrooms.elephant = new Room();\r\n\r\nrooms.backyard = new Room();\r\n\r\nrooms.mud1 = new Room();\r\n\r\nrooms.mud2 = new Room();\r\n\r\nrooms.mud3 = new Room();\r\n\r\nrooms.redFoyer = new Room(\r\n\t'You come into a room where the red coalesces into the outdoors. You are surrounded by rolling hills, vast greenery and various animals scurrying about from the trees and bushes. To the north the grass and brush are giving way to more rocky terrain. To the south, the rolling hills around you level out into a vast prairie. To the west, the animals seem to be less frequent. To the east, you see a metal door, incongruous with your surroundings.',\r\n\t{\r\n\t\tn: 'rocks',\r\n\t\ts: 'stream',\r\n\t\te: 'tricolorCenter',\r\n\t\tw: 'lion',\r\n\t}\r\n);\r\n\r\nrooms.lion = new Room(\r\n\t'You walk through some thicket and find a low outcropping of stone, under which lays a lion. \\n To the north you see a forest of dense trees. To the south, you see smoke. To the east you see lines of red and the metal door.',\r\n\t{\r\n\t\tn: 'forest',\r\n\t\ts: 'camp',\r\n\t\te: 'redFoyer'\r\n\t},\r\n\t{\r\n\t\ti: {\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tuncleared: 'He is large and scarred, but also seems old and weak. He seems thinner than he should, almost emaciated. You turn to run but not before seeing a shining red key under his paw. \\n \"What do you want, child?\" He asks in a raspy voice. You gesture towards the key. \"Ah, you seek the key? I\\'ll need something in payment. Maybe something to help my strength return.\" ',\r\n\t\t\tcleared: 'He is strong and healthy, now, his power returned to him. While you still might not feel comfortable around him, you think he will let you live.',\r\n\t\t\tevt: (game) => {\r\n\t\t\t\tgame.showItemInput();\r\n\t\t\t}\r\n\t\t},\r\n\t\t'rabbit': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\tgame.addHistory('The lion watches you intently as you hold out the rabbit. No sooner does he take a bite than does his entire visage change, as he reverts to a lion in his prime. He roars a mighty roar, dropping you to your knees, but then he merely holds out the red key. You take it gingerly');\r\n\t\t\t\tgame.removeItem('rabbit');\r\n\t\t\t\tgame.addItem(items['red key']);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.forest = new Room(\r\n\t'You come to a forest, teeming with wildlife. You hear birds chirping, deer rustling around in the distance and nearby you notice some rabbits.',\r\n\t{\r\n\t\ts: 'lion',\r\n\t\te: 'rocks'\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\ttitle: 'sticks',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tuncleared: 'You notice some sticks lying around you.',\r\n\t\t\tdesc: 'You pick up a few of the sticks.',\r\n\t\t\titem: 'sticks',\r\n\t\t},\r\n\t\ti: {\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tevt: (game) => {\r\n\t\t\t\tgame.showItemInput();\r\n\t\t\t}\r\n\t\t},\r\n\t\t'animal trap': {\r\n\t\t\tevt: function(game) {\r\n\t\t\t\tthis.events.i.state = 'cleared';\r\n\t\t\t\tif (game.getItem('animal trap').items.length !== 4) {\r\n\t\t\t\t\tgame.addHistory('Your trap doesn\\'t seem too effective at capturing rabbits.');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgame.addHistory('You set up your primitive trap and after some trial and error are able to catch a rabbit.');\r\n\t\t\t\t\tgame.removeItem('animal trap');\r\n\t\t\t\t\tgame.addItem(items.rabbit);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.rocks = new Room(\r\n\t'The greenery and life slowly gives way to some rocky terrain, with mountains in the far distance. There are no animals here, and the sun burns down hot on your head.',\r\n\t{\r\n\t\ts: 'redFoyer',\r\n\t\tw: 'forest'\r\n\t}\r\n);\r\n\r\nrooms.camp = new Room(\r\n\t'As you approach the smoke you find a campsite. Although there is remnants of a fresh fire, there are no other signs of recent inhabitants. There are three tents with various supplies inside, including food, some empty crates, a canteen and a sleeping bag. \\n To the north you see more rolling hills. To the east you see a vast prairie.',\r\n\t{\r\n\t\tn: 'lion',\r\n\t\te: 'stream',\r\n\t},\r\n\t{\r\n\t\tp: {\r\n\t\t\tcarrots: {\r\n\t\t\t\ttitle: 'carrots',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You see some food.',\r\n\t\t\t\tdesc: 'Much of the food seems to have gone bad sitting out in the warm for who knows how long, but you are able to find some carrots which still seem to have some snap.',\r\n\t\t\t\titem: 'carrots',\r\n\t\t\t},\r\n\t\t\tcrate: {\r\n\t\t\t\ttitle: 'crate',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You find some empty wooden crates.',\r\n\t\t\t\tdesc: 'You take one of the crates. It\\'s bulky and cumbersome, but it\\'s yours.',\r\n\t\t\t\titem: 'crate',\r\n\t\t\t},\r\n\t\t\tcanteen: {\r\n\t\t\t\ttitle: 'canteen',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'You notice a canteen.',\r\n\t\t\t\tdesc: 'As you pick up the canteen, you find it to have a bit of liquid still at the bottom.',\r\n\t\t\t\titem: 'canteen',\r\n\t\t\t},\r\n\t\t\t'sleeping bag': {\r\n\t\t\t\ttitle: 'sleeping bag',\r\n\t\t\t\tstate: 'uncleared',\r\n\t\t\t\tuncleared: 'There is a sleeping bag on the floor in the corner.',\r\n\t\t\t\tdesc: 'You pick up the sleeping bag carefully.',\r\n\t\t\t\titem: 'sleeping bag',\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nrooms.stream = new Room(\r\n\t'As you walk along the prairie, you come to a stream. It seems like someone once fished here, though now the area is overgrown.',\r\n\t{\r\n\t\tn: 'redFoyer',\r\n\t\tw: 'camp'\r\n\t},{\r\n\t\tp: {\r\n\t\t\ttitle: 'fishing line',\r\n\t\t\tstate: 'uncleared',\r\n\t\t\tuncleared: 'You do manage to find several feet of fishing line in the brushes.',\r\n\t\t\tdesc: 'You pick up the fishing line.',\r\n\t\t\titem: 'fishing line',\r\n\t\t}\r\n\t}\r\n);\r\n\r\nclass Item {\r\n\tconstructor(name, desc, use) {\r\n\t\tthis.name = name;\r\n\t\tthis.descFlavor = desc;\r\n\t\tthis.use = use;\r\n\t\tthis.items = [];\r\n\t}\r\n\r\n\tdesc() {\r\n\t\tlet fullDesc = this.descFlavor;\r\n\t\tif (this.required) {\r\n\t\t\tfullDesc += ' Currently has ';\r\n\t\t\tthis.items.forEach(item => fullDesc += item + ', ');\r\n\t\t\tfullDesc = fullDesc.substring(0, fullDesc.length - 2);\r\n\t\t\tfullDesc += '. Needs ' + (this.required.length - this.items.length) + ' more items.';\r\n\t\t}\r\n\t\treturn fullDesc;\r\n\t}\r\n}\r\n\r\nexport let items = {};\r\n\titems['hall key'] = new Item(\r\n\t\t'Hall Key',\r\n\t\t'An old brass skeleton key.'\r\n\t);\r\n\r\n//Red\r\nitems.sticks = new Item(\r\n\t\t'Sticks',\r\n\t\t'They\\'re brown and sticky.',\r\n\t\t'animal trap',\r\n);\r\nitems.carrots = new Item(\r\n\t\t'Carrots',\r\n\t\t'Not your favorite, but they are food.',\r\n\t\t'animal trap',\r\n);\r\nitems.crate = new Item(\r\n\t\t'Crate',\r\n\t\t'A wooden box with 5 sides.',\r\n\t\t'animal trap',\r\n);\r\nitems.canteen = new Item(\r\n\t\t'Canteen',\r\n\t\t'There\\'s a bit of foul-smelling liquid inside.'\r\n);\r\nitems['sleeping bag'] = new Item(\r\n\t\t'Sleeping Bag',\r\n\t\t'Careful, you don\\'t want to wake it.'\r\n);\r\nitems['fishing line'] = new Item(\r\n\t\t'Fishing Line',\r\n\t\t'Somehow, it\\'s not even tangled.',\r\n\t\t'animal trap',\r\n);\r\nitems['animal trap'] = new Item(\r\n\t\t'Animal Trap',\r\n\t\t'Be vewy vewy quiet.'\r\n);\r\nitems['animal trap'].required = ['sticks', 'crate', 'carrots', 'fishing line'];\r\nitems.rabbit = new Item(\r\n\t'Rabbit',\r\n\t'Don\\'t worry, it\\'s not that cute.'\r\n);\r\nitems['red key'] = new Item(\r\n\t'Red Key',\r\n\t'A crystalline red key, in the form of an old skeleton key. It matches the color of the room in which you began perfectly.'\r\n);\r\n\r\n//Yellow\r\nitems['fishing pole'] = new Item(\r\n\t'Fishing Pole',\r\n\t'A step up from bare hands.'\r\n);\r\nitems['wire cutters'] = new Item(\r\n\t'Wire Cutters',\r\n\t'Like big scissors. Best not to run.'\r\n);\r\nitems['gardening hose'] = new Item(\r\n\t'Gardening Hose',\r\n\t'A green rubber hose, though you\\'re not sure it will do much good without a spigot to hook into.'\r\n);\r\nitems['carving knife'] = new Item(\r\n\t'Carving Knife',\r\n\t'Maybe just become a carpenter?'\r\n);\r\nitems['yellow key'] = new Item(\r\n\t'Yellow Key',\r\n\t'A bright and glistening yellow key. Seems made of the same stuff as the room in which you began.'\r\n);\r\n\r\n//Blue\r\nitems['dirty metal bar'] = new Item(\r\n\t'Dirty Metal Bar',\r\n\t'A long piece of metal covered in mud and muck. Why are you carrying this?'\r\n);\r\nitems['lever'] = new Item(\r\n\t'Lever',\r\n\t'A long lever, which seems like it could slot into a mechanism.'\r\n);\r\nitems['blue key'] = new Item(\r\n\t'Blue Key',\r\n\t'A royal blue key, shining and crystalline as the room from which you entered.'\r\n);","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport {Typography} from \"@material-ui/core/es/index\";\r\n\r\nconst styles = {\r\n\tinventoryHeader: {\r\n\t\tborderBottom: '1px solid black',\r\n\t},\r\n};\r\n\r\nfunction Inventory(props) {\r\n\r\n\tlet {classes} = props;\r\n\r\n\tlet items = [];\r\n\tprops.items.forEach((item) => {\r\n\t\tif (item.required) {\r\n\t\t\titems.push(<Typography variant=\"body1\" component=\"p\" key={item.name}>{item.name}: {item.items.length} of {item.required.length}</Typography>);\r\n\t\t} else {\r\n\t\t\titems.push(<Typography variant=\"body1\" component=\"p\" key={item.name}>{item.name}</Typography>);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Typography variant='h3' component=\"h2\" className={classes.inventoryHeader}>Inventory</Typography>\r\n\t\t\t{items}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(Inventory);","import React from \"react\";\r\nimport './room-card-component.css';\r\nimport Typography from \"@material-ui/core/es/Typography/Typography\";\r\nimport Card from \"@material-ui/core/es/Card/Card\";\r\nimport CardContent from \"@material-ui/core/es/CardContent/CardContent\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\n\r\nconst styles = {\r\n\tcardContainer: {\r\n\t\tmargin: '1em',\r\n\t},\r\n\thistoryContent: {\r\n\t\t'&:last-child': {\r\n\t\t\tpaddingBottom: '16px',\r\n\t\t},\r\n\t}\r\n};\r\n\r\nfunction RoomCard(props) {\r\n\tconst { classes } = props;\r\n\r\n\tlet roomHistory = [];\r\n\tprops.room.history.map((history) => {\r\n\t\troomHistory.push(<Typography variant=\"h6\" component=\"p\" className=\"history-row\" key={history.moveCount}>{history.desc}</Typography>);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Card className={classes.cardContainer}>\r\n\t\t\t<CardContent className={classes.historyContent}>\r\n\t\t\t\t{roomHistory}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default withStyles(styles)(RoomCard);","import React from 'react';\r\nimport ControlsService from '../utils/controls-service';\r\nimport {List, Map} from 'immutable';\r\nimport NavigatorService from \"../navigator-service/navigator-service\";\r\nimport {rooms, items} from '../rooms';\r\nimport './game-component.css';\r\nimport * as _ from 'lodash';\r\nimport Inventory from \"../inventory-component/inventory-component\";\r\nimport RoomCard from \"../room-card-component/room-card-component\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default class Game extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmoveCount: 0,\r\n\t\t\tlocation: 'tricolorCenter',\r\n\t\t\tinventory: new Map(),\r\n\t\t\troomHistory: new List(),\r\n\t\t\tuserItemInput: '',\r\n\t\t\tshowItemInput: false,\r\n\t\t\tuserExamineInput: 'rabbit trap',\r\n\t\t\tshowExamineInput: false,\r\n\t\t\tuserPrimaryUseInput: '',\r\n\t\t\tshowUseInput: false,\r\n\t\t\tuserSecondaryUseInput: '',\r\n\t\t};\r\n\r\n\t\tthis.state.roomHistory = this.state.roomHistory.push(this.getRoomHistoryEntry(rooms[this.state.location].desc));\r\n\t\tthis.state.moveCount++;\r\n\t\tthis.navigator = new NavigatorService();\r\n\t\tthis.itemInputRef = React.createRef();\r\n\t\tthis.examineInputRef = React.createRef();\r\n\t\tthis.useInputRef = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener(\"keydown\", this.handleKeydown.bind(this));\r\n\t\t// let trap = items['animal trap'];\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// trap.items.push('');\r\n\t\t// this.addItem(trap);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.removeEventListener('keydown', this.handleKeydown.bind(this));\r\n\t}\r\n\r\n\thandleKeydown(e) {\r\n\t\tControlsService.handleGameKeyDown(e, this);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet history = [];\r\n\t\tthis.state.roomHistory.map((h) => {\r\n\t\t\thistory.push(<RoomCard room={h} key={h.moveCount} />);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500\" />\r\n\t\t\t\t<div className=\"history\">\r\n\t\t\t\t\t{this.state.showItemInput &&\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tWhat item do you use?\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userItemInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handleItemInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleItemInputEnter(e)}\r\n\t\t\t\t\t\t\t   ref={this.itemInputRef} />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{this.state.showExamineInput &&\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tWhat do you examine?\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userExamineInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handleExamineInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleExamineInputEnter(e)}\r\n\t\t\t\t\t\t\t   ref={this.examineInputRef} />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{this.state.showUseInput &&\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tWhat do you use?\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userPrimaryUseInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handlePrimaryUseInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleUseInputEnter(e)}\r\n\t\t\t\t\t\t\t   ref={this.useInputRef} />\r\n\t\t\t\t\t\twith\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t\t   value={this.state.userSecondaryUseInput}\r\n\t\t\t\t\t\t\t   onChange={(e) => this.handleSecondaryUseInputChange(e)}\r\n\t\t\t\t\t\t\t   onKeyDown={(e) => this.handleUseInputEnter(e)} />\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t}\r\n\t\t\t\t{history}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Inventory items={this.state.inventory} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tshowExamineInput() {\r\n\t\tthis.setState({showExamineInput: true});\r\n\t\tthis.examineInputRef.current.focus();\r\n\t}\r\n\r\n\thandleExamineInputChange(e) {\r\n\t\tthis.setState({userExamineInput: e.target.value});\r\n\t}\r\n\r\n\thandleExamineInputEnter(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.submitItemToExamine();\r\n\t\t}\r\n\t}\r\n\r\n\tsubmitItemToExamine() {\r\n\t\tlet userItemInput = this.state.userExamineInput.toLowerCase();\r\n\t\tthis.setState({userExamineInput: ''});\r\n\t\tif (this.state.inventory.get(userItemInput)) {\r\n\t\t\tthis.addHistory(this.state.inventory.get(userItemInput).desc());\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have one of those.');\r\n\t\t}\r\n\t\tthis.state.showExamineInput = false;\r\n\t}\r\n\r\n\tshowUseInput() {\r\n\t\tthis.setState({showUseInput: true});\r\n\t\tthis.useInputRef.current.focus();\r\n\t}\r\n\r\n\thandlePrimaryUseInputChange(e) {\r\n\t\tthis.setState({userPrimaryUseInput: e.target.value});\r\n\t}\r\n\r\n\thandleSecondaryUseInputChange(e) {\r\n\t\tthis.setState({userSecondaryUseInput: e.target.value});\r\n\t}\r\n\r\n\thandleUseInputEnter(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.submitItemToUse();\r\n\t\t}\r\n\t}\r\n\r\n\tsubmitItemToUse() {\r\n\t\tlet userPrimaryItemInput = this.state.userPrimaryUseInput.toLowerCase();\r\n\t\tlet userSecondaryItemInput = this.state.userSecondaryUseInput.toLowerCase();\r\n\t\tthis.setState({userPrimaryUseInput: ''});\r\n\t\tthis.setState({userSecondaryUseInput: ''});\r\n\t\tif (this.state.inventory.get(userPrimaryItemInput)) {\r\n\t\t\tif (this.state.inventory.get(userSecondaryItemInput)) {\r\n\t\t\t\tthis.useItems(items[userPrimaryItemInput], items[userSecondaryItemInput]);\r\n\t\t\t} else {\r\n\t\t\t\tthis.addHistory('You don\\'t have '+userSecondaryItemInput);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have '+userPrimaryItemInput);\r\n\t\t}\r\n\t\tthis.state.showUseInput = false;\r\n\t}\r\n\r\n\tuseItems(primaryItem, secondaryItem) {\r\n\t\tif (!primaryItem.use) {\r\n\t\t\tlet temp = primaryItem;\r\n\t\t\tprimaryItem = secondaryItem;\r\n\t\t\tsecondaryItem = temp;\r\n\t\t}\r\n\t\tif (primaryItem.use) {\r\n\t\t\tlet primaryItemKey = primaryItem.name.toLowerCase();\r\n\t\t\tlet secondaryItemKey = secondaryItem.name.toLowerCase();\r\n\t\t\tif (primaryItem.use === secondaryItem.use) {\r\n\t\t\t\tif (!this.state.inventory.has(primaryItem.use)) {\r\n\t\t\t\t\tlet masterItem = items[primaryItem.use];\r\n\t\t\t\t\tthis.addItem(masterItem);\r\n\t\t\t\t\tthis.addComponentToItem(primaryItemKey, masterItem);\r\n\t\t\t\t\tthis.addComponentToItem(secondaryItemKey, masterItem);\r\n\t\t\t\t\tthis.removeItem(primaryItemKey);\r\n\t\t\t\t\tthis.removeItem(secondaryItemKey);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addHistory('Try using each of those with the '+primaryItem.use);\r\n\t\t\t\t}\r\n\t\t\t} else if (primaryItem.use === secondaryItemKey) {\r\n\t\t\t\tlet masterItem = this.inventory.get(secondaryItemKey);\r\n\t\t\t\tthis.addComponentToItem(primaryItemKey, masterItem);\r\n\t\t\t\tthis.removeItem(primaryItemKey);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tshowItemInput() {\r\n\t\tthis.setState({showItemInput: true});\r\n\t\tthis.itemInputRef.current.focus();\r\n\t}\r\n\r\n\tisInputOpen() {\r\n\t\treturn this.state.showItemInput || this.state.showExamineInput || this.state.showPrimaryUseInput;\r\n\t}\r\n\r\n\tgetItem(itemName) {\r\n\t\treturn this.state.inventory.get(itemName);\r\n\t}\r\n\r\n\thandleItemInputChange(e) {\r\n\t\tthis.setState({userItemInput: e.target.value});\r\n\t}\r\n\r\n\thandleItemInputEnter(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.submitItemForInteract(e);\r\n\t\t}\r\n\t}\r\n\r\n\tsubmitItemForInteract() {\r\n\t\tlet userItemInput = this.state.userItemInput.toLowerCase();\r\n\t\tthis.setState({userItemInput: ''});\r\n\t\tif (this.state.inventory.get(userItemInput)) {\r\n\t\t\tlet itemEvent = this.getLocation().events[userItemInput];\r\n\t\t\tif (itemEvent) {\r\n\t\t\t\titemEvent.evt.call(this.getLocation(), this);\r\n\t\t\t} else {\r\n\t\t\t\tthis.addHistory('That\\'s no use here.');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have one of those.');\r\n\t\t}\r\n\t\tthis.setState({showItemInput: false});\r\n\t}\r\n\r\n\tremoveItem(itemName) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tcurrentState.inventory = currentState.inventory.remove(itemName);\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\taddItem(item) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tcurrentState.inventory = currentState.inventory.set(item.name.toLowerCase(), item);\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\taddComponentToItem(itemName, masterItem) {\r\n\t\tthis.setState(currentState => {\r\n\t\t\tlet inventory = currentState.inventory;\r\n\t\t\tmasterItem.items.push(itemName);\r\n\t\t\tinventory.set(masterItem.name, masterItem);\r\n\t\t\tcurrentState.inventory = inventory;\r\n\t\t\treturn currentState;\r\n\t\t});\r\n\t}\r\n\r\n\tmoveNorth() {\r\n\t\tlet nextRoom = this.getLocation().exits['n'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tmoveSouth() {\r\n\t\tlet nextRoom = this.getLocation().exits['s'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tmoveEast() {\r\n\t\tlet nextRoom = this.getLocation().exits['e'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tmoveWest() {\r\n\t\tlet nextRoom = this.getLocation().exits['w'];\r\n\t\tthis.move(nextRoom);\r\n\t}\r\n\r\n\tpickup() {\r\n\t\tlet events = this.getLocation().events;\r\n\t\tif (events && events.p) {\r\n\t\t\tlet pickupEvents = events.p;\r\n\t\t\tif (pickupEvents.state === 'uncleared') {\r\n\t\t\t\tthis.pickupItem(pickupEvents);\r\n\t\t\t} else if (!pickupEvents.state) {\r\n\t\t\t\tlet unclearedEventKeys = _.filter(Object.keys(pickupEvents),\r\n\t\t\t\t\teventKey => pickupEvents[eventKey].state === 'uncleared');\r\n\t\t\t\tlet firstUnclearedEvent = _.head(unclearedEventKeys);\r\n\t\t\t\tif (firstUnclearedEvent) {\r\n\t\t\t\t\tthis.pickupItem(this.getLocation().events.p[firstUnclearedEvent]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addHistory('You don\\'t find anything.');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.addHistory('You don\\'t find anything.');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t find anything.');\r\n\t\t}\r\n\t}\r\n\r\n\tpickupItem(pickupEvent) {\r\n\t\tpickupEvent.state = 'cleared';\r\n\t\tthis.addHistory(pickupEvent.desc);\r\n\t\tlet item = items[pickupEvent.item];\r\n\t\tthis.addItem(item);\r\n\t}\r\n\r\n\tinteract() {\r\n\t\tlet events = this.getLocation().events;\r\n\t\tif (events && events['i'] && events['i'].state === 'uncleared') {\r\n\t\t\tlet interactEvent = events['i'];\r\n\t\t\tinteractEvent.evt(this);\r\n\t\t} else {\r\n\t\t\tthis.addHistory('There is nothing to do here.');\r\n\t\t}\r\n\t}\r\n\r\n\texamine() {\r\n\t\tif (this.state.inventory.size) {\r\n\t\t\tthis.showExamineInput();\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have anything to examine.');\r\n\t\t}\r\n\t}\r\n\r\n\tuse() {\r\n\t\tif (this.state.inventory.size) {\r\n\t\t\tthis.showUseInput();\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You don\\'t have anything to use.');\r\n\t\t}\r\n\t}\r\n\r\n\taddRoomHistory(description) {\r\n\t\tthis.setState({\r\n\t\t\tmoveCount: this.state.moveCount + 1,\r\n\t\t\troomHistory: this.state.roomHistory.insert(0, this.getRoomHistoryEntry(description))\r\n\t\t});\r\n\t}\r\n\r\n\taddHistory(description) {\r\n\t\tif (description) {\r\n\t\t\tlet historyEntry = this.getHistoryEntry(description);\r\n\t\t\tlet roomHistory = this.state.roomHistory.get(0);\r\n\t\t\tlet updatedRoomHistory = Object.assign({}, roomHistory, {\r\n\t\t\t\thistory: roomHistory.history.insert(0, historyEntry)\r\n\t\t\t});\r\n\t\t\tthis.setState({\r\n\t\t\t\tmoveCount: this.state.moveCount + 1,\r\n\t\t\t\troomHistory: this.state.roomHistory.set(0, updatedRoomHistory)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetRoomHistoryEntry(description) {\r\n\t\treturn {\r\n\t\t\tmoveCount: this.state.moveCount,\r\n\t\t\thistory: description ? new List([this.getHistoryEntry(description)]) : new List()\r\n\t\t};\r\n\t}\r\n\r\n\tgetHistoryEntry(description) {\r\n\t\treturn {\r\n\t\t\tdesc: description,\r\n\t\t\tmoveCount: this.state.moveCount\r\n\t\t};\r\n\t}\r\n\r\n\tmove(nextRoom) {\r\n\t\tif (nextRoom) {\r\n\t\t\tif (nextRoom.state === 'locked') {\r\n\t\t\t\tthis.addHistory('The door is locked.');\r\n\t\t\t} else {\r\n\t\t\t\tnextRoom = nextRoom.name || nextRoom;\r\n\t\t\t\tthis.addRoomHistory();\r\n\t\t\t\t_.map(rooms[nextRoom].events, (evt) => {\r\n\t\t\t\t\tif (evt.state) {\r\n\t\t\t\t\t\tthis.addHistory(evt[evt.state]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.map(Object.values(evt), subEvent => {\r\n\t\t\t\t\t\t\tthis.addHistory(subEvent[subEvent.state]);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.addHistory(rooms[nextRoom].desc);\r\n\t\t\t\tthis.setState({location: nextRoom});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.addHistory('You can\\'t go that way.');\r\n\t\t}\r\n\t}\r\n\r\n\tgetLocation() {\r\n\t\treturn rooms[this.state.location];\r\n\t}\r\n}","import React, { Component } from 'react';\nimport './App.css';\nimport Game from './game-component/game-component';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {List} from \"immutable\";\n\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<Game/>\n\t\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}